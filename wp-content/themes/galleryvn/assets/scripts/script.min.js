function capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}function loadHomePage(){new Swiper("#slideShow",{loop:!0,slidesPerView:1,autoHeight:!0,grabCursor:!0,centeredSlides:!0,speed:1e3,effect:"fade",observer:!0,observeParents:!0,fadeEffect:{crossFade:!0},autoplay:{delay:8e3,disableOnInteraction:!0},pagination:{el:"#slideShowPaging",clickable:!0}});let e=$(".control"),t=0;e.hide(),e.first().show().css("opacity",1),$("#btnPrev").prop("disabled",!0)&&($("#btnPrev").css("background-color","#8f8f8f"),$("#btnPrev").css("border-color","#8f8f8f")),$("#btnNext").click(function(){t!=e.length-1&&(e.eq(t).hide(),(t=t+1<e.length?t+1:0)==e.length-1&&($(this).prop("disabled",!0),$(this).css("background-color","#8f8f8f"),$(this).css("border-color","#8f8f8f")),e.eq(t).css("transform","translateY(-150%)"),e.eq(t).css("opacity",0).animate({opacity:1},{queue:!1,duration:800}),setTimeout(function(){e.eq(t).css("transform","")},200),e.eq(t).show(),$("#btnPrev").prop("disabled",!1),$("#btnPrev").css("background-color",""),$("#btnPrev").css("border-color",""),loadImageSize())}),$("#btnPrev").click(function(){0!=t&&(e.eq(t).hide(),0==(t=t>0?t-1:e.length-1)&&($(this).prop("disabled",!0),$(this).css("background-color","#8f8f8f"),$(this).css("border-color","#8f8f8f")),e.eq(t).css("transform","translateY(150%)"),e.eq(t).css("opacity",0).animate({opacity:1},{queue:!1,duration:800}),setTimeout(function(){e.eq(t).css("transform","")},200),e.eq(t).show(),$("#btnNext").prop("disabled",!1),$("#btnNext").css("background-color",""),$("#btnNext").css("border-color",""),loadImageSize())})}function toggleAsideMenu(){let e=$("#asideMenu"),t=$("#overlay");$(".btnMenu").click(function(){e.addClass("show"),e.css("opacity",1);let n=$("#navHeader").outerHeight();$("#navMenuClose").css("height",n-25),t.fadeIn(),$(this).css("display","none")}),$(".btnMenuClose").click(function(){e.removeClass("show"),t.fadeOut(),$(".btnMenu").fadeIn()}),t.mouseup(function(t){$(this).fadeOut(),e.is(t.target)||0!==e.has(t.target).length||(e.removeClass("show"),$(".btnMenu").fadeIn())})}function toggleAsideFilter(){let e=$("#asideFilter"),t=$("#overlay");$(".btnOpen").click(function(){if($(window).width()>993)$(".navbar-nav-search").fadeToggle(),$(".btn-search").toggleClass("show");else{e.addClass("show"),e.css("opacity",1);let n=$("#navHeader").outerHeight();$("#navFilterClose").css("height",n-25),t.fadeIn()}}),$("#btnFilterClose").click(function(){e.removeClass("show"),t.fadeOut()}),t.mouseup(function(t){$(this).fadeOut(),e.is(t.target)||0!==e.has(t.target).length||e.removeClass("show")})}function disabledFilter(){let e=$("#asideFilter"),t=$("#overlay");$(window).width()<993?($(".navbar-nav-search").css("display","none"),$(".btn-search").removeClass("show")):(e.removeClass("show"),e.css("opacity",0),t.fadeOut())}function autoMainStyle(){let e=$("main > article, main > section"),t=$("header"),n=$("footer"),i=$(window).height();Math.ceil(e.outerHeight()+t.outerHeight()+n.outerHeight());i>1e3?$("main").hasClass("main-flex-fixed")||$("main").addClass("main-flex-fixed"):$("main").hasClass("main-flex-fixed")&&$("main").removeClass("main-flex-fixed")}function loadProductPage(){new Swiper("#productSlide",{slidesPerView:"auto",speed:1200,observer:!0,observeParents:!0,spaceBetween:30,centeredSlides:!0,pagination:{el:"#productSlidePaging",clickable:!0},breakpoints:{769:{slidesPerView:"auto",centeredSlides:!1},577:{centeredSlides:!1}}});let e=new Swiper("#thumbnailList",{slidesPerView:"auto",watchOverflow:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,direction:"horizontal",height:600,breakpoints:{1025:{direction:"vertical"}}});new Swiper("#thumbnailShow",{watchOverflow:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,preventInteractionOnTransition:!0,slidesPerView:1,pagination:{el:"#detailImagePagination",clickable:!0},thumbs:{swiper:e}})}function loadImageSize(){$(".product-box, .box-gallery").each(function(){if(""!=$(this).find(".image").attr("src")){let e=$($(this)[0]).width()-30;$(this).find(".box-info").css("max-width",e+"px")}})}function formBuyGallery(){$("#btnBuyOrder").click(function(){let e=this,t=$('#formBuyOrder input[name="type"]').val(),n=$('#formBuyOrder input[name="postId"]').val(),i=$('#formBuyOrder input[name="defaultPrice"]').val(),a=$('#formBuyOrder input[name="name"]').val(),o=$('#formBuyOrder input[name="email"]').val(),s=$('#formBuyOrder input[name="phone"]').val(),r=$('#formBuyOrder textarea[name="messenger"]').val();if(empty(a))resultTag(".notice-result","error","Vui lòng nhập họ và tên.");else if(empty(o))resultTag(".notice-result","error","Vui lòng nhập email.");else if(empty(s))resultTag(".notice-result","error","Vui lòng nhập số điện thoại.");else{if(!$(e).hasClass("btn-disabled"))return"buy"==t?($.ajax({type:"post",dataType:"json",url:product_param.url,data:{action:product_param.action,security:product_param.nonce,type:t,postId:n,defaultPrice:i,name:a,email:o,phone:s,messenger:r},beforeSend:function(){$(e).attr("disabled",!0)},success:function(t){1==t.success?(resultTag(".notice-result","success",t.data),$(e).attr("disabled",!1),$(e).addClass("btn-disabled"),setTimeout(function(){$(e).removeClass("btn-disabled")},3e5)):(resultTag(".notice-result","error",t.data),$(e).attr("disabled",!1))},error:function(e,t){console.log("The following error occured "+t)}}),!1):"order"==t?($.ajax({type:"post",dataType:"json",url:product_param.url,data:{action:product_param.action,security:product_param.nonce,type:t,name:a,email:o,phone:s,messenger:r},beforeSend:function(){$(e).attr("disabled",!0)},success:function(t){1==t.success?(resultTag(".notice-result","success",t.data),$(e).attr("disabled",!1),$(e).addClass("btn-disabled"),setTimeout(function(){$(e).removeClass("btn-disabled")},3e5)):(resultTag(".notice-result","error",t.data),$(e).attr("disabled",!1))},error:function(e,t){console.log("The following error occured "+t)}}),!1):void 0;resultTag(".notice-result","error","Hệ thống đã ghi nhận vui lòng chờ.")}})}function formContactGallery(){$("#btnContact").click(function(){let e=this,t=$('input[name="name"]').val(),n=$('input[name="email"]').val(),i=$('input[name="phone"]').val(),a=$('textarea[name="messenger"]').val();if(console.log(a),empty(t))resultTag(".notice-result","error","Vui lòng nhập họ và tên.");else if(empty(n))resultTag(".notice-result","error","Vui lòng nhập email.");else if(empty(i))resultTag(".notice-result","error","Vui lòng nhập số điện thoại.");else{if(!$(e).hasClass("btn-disabled"))return $.ajax({type:"post",dataType:"json",url:contact_param.url,data:{action:contact_param.action,security:contact_param.nonce,name:t,email:n,phone:i,messenger:a},beforeSend:function(){$(e).attr("disabled",!0)},success:function(t){1==t.success?(resultTag(".notice-result","success",t.data),$(e).attr("disabled",!1),$(e).addClass("btn-disabled"),setTimeout(function(){$(e).removeClass("btn-disabled")},3e5)):(resultTag(".notice-result","error",t.data),$(e).attr("disabled",!1))},error:function(e,t){console.log("The following error occured "+t)}}),!1;resultTag(".notice-result","error","Hệ thống đã ghi nhận vui lòng chờ.")}})}function empty(e){return!(void 0!==e&&e&&0!==e.length&&""!==e&&/[^\s]/.test(e)&&!/^\s*$/.test(e)&&""!==e.replace(/\s/g,""))}function resultTag(e,t,n){$(e).show(),$(e).addClass(t),$(e).text(n),setTimeout(function(){$(e).fadeOut(),$(e).removeClass(t)},5e3)}function showCloudTag(){$("#searchValue").on("click",".dropdown-item",function(){let e=$(this).closest(".item-value").find(".dropdown-toggle").attr("data-input"),t=$(this).attr("data-id");for(i=0;i<3;i++){let e=getParamUrl("f"+i);$('input[name="f'+i+'"]').val(e)}$('input[name="'+e+'"]').val(t),$("#filter").submit()}),$("#searchMobile").on("change","select.filter-item",function(){let e=$(this).attr("data-input"),t=$(this).find("option:selected").attr("data-id");for(i=0;i<3;i++){let e=getParamUrl("f"+i);$('input[name="f'+i+'"]').val(e)}$('input[name="'+e+'"]').val(t),$("#filterMobile").submit()}),$("#btnSearch").click(function(){$("#formSearch").submit()}),$(".closeTagSearch").click(function(){$(this).parents(".tagItem").fadeOut(),$('input[name="s"]').val(""),$("#formSearch").submit()}),$(".cloud-tag").on("click",".closeTag",function(){let e=$(this).parents(".tagItem");e.fadeOut();let t=e.attr("data-input");for(i=0;i<3;i++){let e=getParamUrl("f"+i);$('input[name="f'+i+'"]').val(e)}$('input[name="'+t+'"]').val(""),$("#filter").submit(),$("#filterMobile").submit()})}function getParamUrl(e){let t=null;return(t=decodeURIComponent(window.location.search.substr(1)).split("&").map(e=>e.split("=")).find(t=>t[0]===e))?t[1]:null}$(document).ready(function(){FastClick.attach(document.body),toggleAsideMenu(),toggleAsideFilter(),loadProductPage(),formBuyGallery(),formContactGallery(),showCloudTag(),$(window).load(function(){autoMainStyle(),disabledFilter(),loadImageSize()}),$(window).resize(function(){autoMainStyle(),disabledFilter(),loadImageSize()}),"/"!=window.location.pathname&&"/en/"!=window.location.pathname||loadHomePage(),$(".menu-item:has(.trp-ls-language-name)").addClass("menu-translate").css("display","inline-flex"),$(".status-hover").each(function(){let e=$(this);e.bind("mouseenter",function(){e.addClass("hover")}),e.bind("mouseleave",function(){e.removeClass("hover")})}),$(".capitalize").each(function(){let e=$(this).text();$(this).text(capitalizeFirstLetter(e))}),$(".formatPrice").each(function(){let e=$(this).text();e=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),$(this).text(e)}),$(".formatPhone").each(function(){$(this).text(function(e,t){return t.length<10?t:10==t.length?t.replace(/(\d{3})(\d{3})(\d{4})/,"$1.$2.$3"):11==t.length?t.replace(/(\d{3})(\d{4})(\d{4})/,"$1.$2.$3"):void 0})}),$("#licenseTip").bind("mouseenter",function(){$(".tooltip-content").css("display","block"),$(".tooltip-content .tip").text("Chứng nhận giám định và bảo hộ tác quyền")}),$("#licenseTip").bind("mouseleave",function(){$(".tooltip-content").css("display","none")}),$("#bankcardTip").bind("mouseenter",function(){$(".tooltip-content").css("display","block"),$(".tooltip-content .tip").text("Thanh toán quốc tế thuận tiện")}),$("#bankcardTip").bind("mouseleave",function(){$(".tooltip-content").css("display","none")}),$("#deliveryTip").bind("mouseenter",function(){$(".tooltip-content").css("display","block"),$(".tooltip-content .tip").text("Miễn phí vận chuyển trong nước")}),$("#deliveryTip").bind("mouseleave",function(){$(".tooltip-content").css("display","none")})});