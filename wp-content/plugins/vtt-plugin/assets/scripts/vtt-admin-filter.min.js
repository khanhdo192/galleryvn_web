!function(t,i){t(document).ready(function(){t("#btnAdd").click(function(){let i="",n=parseInt(t(this).attr("data-id")),e="childName"+(n+=1);t(this).attr("data-id",n),i+='<div class="vtt-col-lg-6 vtt-col-12 col-fx appendBlock">',i+='<div class="form-group">',i+='<label for="'+e+'" class="label">Tên thông tin lọc '+n+"</label>",i+='<input type="text" class="input" name="childId" value="0" hidden>',i+='<div class="inline-group">',i+='<input type="text" class="input" id="'+e+'" name="childName" placeholder="Nhập tên thông tin lọc '+n+'...">',i+='<div class="group-append">',i+='<button type="button" class="vtt-btn btn-outline-danger btnRemove">Xóa</button>',i+="</div>",i+="</div>",i+="</div>",i+="</div>",t("#target").append(i)}),t("#target").on("click",".btnRemove",function(){t(this).parents(".appendBlock").remove()}),t("#btnCreate").click(function(){let i=this,n=t('input[name="parentName"]').val(),e=multipleValues('input[name="childName"]');if(empty(n))showNotification("Nhập tên mục thông tin lọc",-1);else{if(!(e.length<1)){for(let t=0;t<e.length;t++)if(empty(e[t]))return void showNotification("Vui lòng nhập thông tin lọc",-1);return t.ajax({type:"post",dataType:"json",url:vtt_admin_param.url,data:{action:admin_filter.create.action,security:admin_filter.create.nonce,parent_name:n,child_name:e},beforeSend:function(){t(i).attr("disabled",!0)},success:function(n){1==n.success?(t(i).attr("disabled",!0),showNotification(n.data,0),setTimeout(function(){t("#btnEsc").get(0).click()},2e3)):(t(i).attr("disabled",!1),showNotification(n.data,1))},error:function(t,i){console.log("The following error occured "+i),showNotification("Đã xảy ra lỗi",-1)}}),!1}showNotification("Hãy tạo thông tin lọc",-1)}}),t("#btnEdit").click(function(){let i=this,n=t('input[name="parentId"]').val(),e=t('input[name="parentName"]').val(),a=multipleValues('input[name="childId"]'),o=multipleValues('input[name="childName"]');if(empty(e))showNotification("Nhập tên mục thông tin lọc",-1);else{if(!(o.length<1)){for(let t=0;t<o.length;t++)if(empty(o[t]))return void showNotification("Vui lòng nhập thông tin lọc",-1);return t.ajax({type:"post",dataType:"json",url:vtt_admin_param.url,data:{action:admin_filter.edit.action,security:admin_filter.edit.nonce,parent_id:n,parent_name:e,child_id:a,child_name:o},beforeSend:function(){t(i).attr("disabled",!0)},success:function(n){1==n.success?(t(i).attr("disabled",!0),showNotification(n.data,0),setTimeout(function(){t("#btnEsc").get(0).click()},2e3)):(t(i).attr("disabled",!1),showNotification(n.data,1))},error:function(t,i){console.log("The following error occured "+i),showNotification("Đã xảy ra lỗi",-1)}}),!1}showNotification("Hãy tạo thông tin lọc",-1)}})})}(jQuery,window);